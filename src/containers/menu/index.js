import {useLocation, useNavigate} from "react-router-dom";
import {toggleFullScreen} from "../../helpers/encryption";
import store from "../../reducers/store";
import INFORMATION_CONSTANTS from "../../constants/information";

const Menu = () => {

    const navigate = useNavigate()
    const location = useLocation();

    const handleHome = () => {
        const menu = document.getElementById('menu')
        menu?.classList?.remove('menu--active')

        const params = new URLSearchParams(location.search);
        const directAuth = params.get("direct_auth");

        if (directAuth) {
            navigate(`/?direct_auth=${encodeURIComponent(directAuth)}`);
        } else {
            navigate("/");
        }
    }

    const handleShowTransactions = () => {
        const menu = document.getElementById('menu')
        menu?.classList?.remove('menu--active')
        store.dispatch({type: INFORMATION_CONSTANTS.SHOW_TRANSACTIONS, data: true})
    }

    const handleHowToPlay = () => {
        const menu = document.getElementById('menu')
        menu?.classList?.remove('menu--active')

        const params = new URLSearchParams(location.search);
        const directAuth = params.get("direct_auth");

        if (directAuth) {
            navigate(`/how-to-play?direct_auth=${encodeURIComponent(directAuth)}`);
        } else {
            navigate("/how-to-play");
        }
    }

    return (
        <div className="menu" id={'menu'}>
            <a onClick={handleHome} className="menu__logo">
                <img src="img/apioption.png" alt=""/>
            </a>

            <div className="menu__nav">
                <button className="menu__action" onClick={handleHome}>
                    <svg
                        width={32}
                        height={32}
                        viewBox="0 0 32 32"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M31.4629 14.5669L26.6131 9.71717V4.11489C26.6131 3.10191 25.7922 2.28098 24.7778 2.28098C23.7657 2.28098 22.9448 3.10191 22.9448 4.11489V6.04891L19.3338 2.43775C17.5484 0.653395 14.4443 0.65656 12.6631 2.44098L0.536877 14.5669C-0.178959 15.2842 -0.178959 16.4448 0.536877 17.1609C1.25304 17.878 2.41587 17.878 3.13177 17.1609L15.2568 5.03465C15.6518 4.64172 16.348 4.64172 16.7409 5.03349L28.868 17.1609C29.2276 17.5195 29.6965 17.6978 30.1652 17.6978C30.6348 17.6978 31.1044 17.5193 31.4629 17.1609C32.179 16.4448 32.179 15.2842 31.4629 14.5669Z"/>
                        <path
                            d="M16.637 8.51579C16.2847 8.16368 15.7142 8.16368 15.363 8.51579L4.69673 19.1789C4.52833 19.3472 4.43286 19.577 4.43286 19.8169V27.5941C4.43286 29.4191 5.91259 30.8988 7.73752 30.8988H13.0184V22.7204H18.9804V30.8988H24.2613C26.0862 30.8988 27.5659 29.4191 27.5659 27.5942V19.8169C27.5659 19.577 27.4713 19.3472 27.302 19.1789L16.637 8.51579Z"/>
                    </svg>
                    <span>Anasayfaya Dön</span>
                </button>
                <div className="menu__lang dropdown-center">
                    <button
                        className="menu__lang-btn"
                        type="button"
                        id="drop030"
                        data-bs-toggle="dropdown"
                        aria-expanded="false"
                    >
                        <img src="img/turkey.svg" alt=""/>
                        <span>Türkçe</span>
                    </button>
                    <div className="dropdown-menu" aria-labelledby="drop030">
                        <div className="menu__lang-menu">
                            <a href="#" className="active">
                                <img src="img/turkey.svg" alt=""/>
                                Turkish
                            </a>
                            <a href="#">
                                <img src="img/turkey.svg" alt=""/>
                                Turkish
                            </a>
                            <a href="#">
                                <img src="img/turkey.svg" alt=""/>
                                Turkish
                            </a>
                        </div>
                    </div>
                </div>
                {/*<button className="menu__action menu__action--volume" type="button">*/}
                {/*    <svg*/}
                {/*        width={32}*/}
                {/*        height={32}*/}
                {/*        viewBox="0 0 32 32"*/}
                {/*        fill="none"*/}
                {/*        xmlns="http://www.w3.org/2000/svg"*/}
                {/*    >*/}
                {/*        <path*/}
                {/*            d="M24.4802 25.8134C24.1375 25.8134 23.7948 25.6814 23.5348 25.4201C23.0148 24.8974 23.0175 24.0534 23.5402 23.5334C25.5562 21.5307 26.6668 18.8561 26.6668 16.0001C26.6668 13.1441 25.5562 10.4694 23.5402 8.46674C23.0175 7.94674 23.0148 7.10407 23.5348 6.58007C24.0535 6.05741 24.8962 6.05474 25.4202 6.57474C27.9442 9.08274 29.3335 12.4294 29.3335 16.0001C29.3335 19.5707 27.9442 22.9174 25.4202 25.4254C25.1602 25.6841 24.8202 25.8134 24.4802 25.8134Z"/>*/}
                {/*        <path*/}
                {/*            d="M20.7067 22.0401C20.3627 22.0401 20.0187 21.908 19.7587 21.644C19.2401 21.12 19.2454 20.2761 19.7694 19.7587C20.7627 18.7761 21.3334 17.4054 21.3334 16C21.3334 14.5947 20.7627 13.224 19.7694 12.2414C19.2454 11.724 19.2414 10.8801 19.7587 10.3561C20.2761 9.83338 21.1201 9.82805 21.6441 10.3454C23.1414 11.8254 24.0001 13.8867 24.0001 16C24.0001 18.1134 23.1414 20.1747 21.6441 21.6547C21.3841 21.912 21.0454 22.0401 20.7067 22.0401Z"/>*/}
                {/*        <path*/}
                {/*            d="M16.0001 29.3334C15.6534 29.3334 15.3121 29.1974 15.0574 28.9427L8.78141 22.6667H5.33341C3.86275 22.6667 2.66675 21.4707 2.66675 20V12C2.66675 10.5294 3.86275 9.33335 5.33341 9.33335H8.78141L15.0574 3.05735C15.4387 2.67468 16.0121 2.56135 16.5107 2.76802C17.0094 2.97468 17.3334 3.46135 17.3334 4.00002V28C17.3334 28.5387 17.0094 29.0254 16.5107 29.232C16.3454 29.3 16.1721 29.3334 16.0001 29.3334Z"/>*/}
                {/*    </svg>*/}
                {/*    <svg*/}
                {/*        width={28}*/}
                {/*        height={28}*/}
                {/*        viewBox="0 0 28 28"*/}
                {/*        fill="none"*/}
                {/*        xmlns="http://www.w3.org/2000/svg"*/}
                {/*    >*/}
                {/*        <path*/}
                {/*            d="M14.0001 27.3334C13.6534 27.3334 13.3121 27.1974 13.0574 26.9427L6.78141 20.6667H3.33341C1.86275 20.6667 0.666748 19.4707 0.666748 18V10C0.666748 8.52935 1.86275 7.33335 3.33341 7.33335H6.78141L13.0574 1.05735C13.4387 0.674684 14.0121 0.56135 14.5107 0.768017C15.0094 0.974684 15.3334 1.46135 15.3334 2.00002V26C15.3334 26.5387 15.0094 27.0254 14.5107 27.232C14.3454 27.3 14.1721 27.3334 14.0001 27.3334Z"/>*/}
                {/*        <path*/}
                {/*            d="M17.16 20L21.064 14.176L17.272 8.48H19.632L22.256 12.536L24.856 8.48H27.232L23.44 14.176L27.328 20H24.968L22.256 15.816L19.536 20H17.16Z"/>*/}
                {/*    </svg>*/}
                {/*    <span>Ses Kapat</span>*/}
                {/*</button>*/}


                <button
                    onClick={e => toggleFullScreen(document.body)}
                    className="menu__action" type="button">
                    <svg
                        width={32}
                        height={32}
                        viewBox="0 0 32 32"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M11.325 2C11.325 2.53043 11.1143 3.03914 10.7392 3.41421C10.3641 3.78929 9.85543 4 9.325 4H4V9.325C4 9.85543 3.78929 10.3641 3.41421 10.7392C3.03914 11.1143 2.53043 11.325 2 11.325C1.46957 11.325 0.960859 11.1143 0.585786 10.7392C0.210714 10.3641 0 9.85543 0 9.325V2C0 1.46957 0.210714 0.960859 0.585786 0.585786C0.960859 0.210714 1.46957 0 2 0L9.325 0C9.85543 0 10.3641 0.210714 10.7392 0.585786C11.1143 0.960859 11.325 1.46957 11.325 2ZM9.325 28H4V22.675C4 22.1446 3.78929 21.6359 3.41421 21.2608C3.03914 20.8857 2.53043 20.675 2 20.675C1.46957 20.675 0.960859 20.8857 0.585786 21.2608C0.210714 21.6359 0 22.1446 0 22.675L0 30C0 30.5304 0.210714 31.0391 0.585786 31.4142C0.960859 31.7893 1.46957 32 2 32H9.325C9.85543 32 10.3641 31.7893 10.7392 31.4142C11.1143 31.0391 11.325 30.5304 11.325 30C11.325 29.4696 11.1143 28.9609 10.7392 28.5858C10.3641 28.2107 9.85543 28 9.325 28ZM30 20.675C29.4696 20.675 28.9609 20.8857 28.5858 21.2608C28.2107 21.6359 28 22.1446 28 22.675V28H22.675C22.1446 28 21.6359 28.2107 21.2608 28.5858C20.8857 28.9609 20.675 29.4696 20.675 30C20.675 30.5304 20.8857 31.0391 21.2608 31.4142C21.6359 31.7893 22.1446 32 22.675 32H30C30.5304 32 31.0391 31.7893 31.4142 31.4142C31.7893 31.0391 32 30.5304 32 30V22.675C32 22.1446 31.7893 21.6359 31.4142 21.2608C31.0391 20.8857 30.5304 20.675 30 20.675ZM30 0H22.675C22.1446 0 21.6359 0.210714 21.2608 0.585786C20.8857 0.960859 20.675 1.46957 20.675 2C20.675 2.53043 20.8857 3.03914 21.2608 3.41421C21.6359 3.78929 22.1446 4 22.675 4H28V9.325C28 9.85543 28.2107 10.3641 28.5858 10.7392C28.9609 11.1143 29.4696 11.325 30 11.325C30.5304 11.325 31.0391 11.1143 31.4142 10.7392C31.7893 10.3641 32 9.85543 32 9.325V2C32 1.46957 31.7893 0.960859 31.4142 0.585786C31.0391 0.210714 30.5304 0 30 0Z"/>
                    </svg>
                    <span>Tam Ekran</span>
                </button>
            </div>
        </div>

    )

}

export default Menu
